{% extends 'base.html' %}  

{% block content %}

<div style="align-items:center;justify-content:center;display:flex">
      
    <form method = "get" class="row gy-2 gx-3 align-items-center">

        <div class="col"> 
            <select id="trimestre_input" name="trimestre_input" class="form-select" >
                <option value="Todos" selected="selected">Todos</option>
                <option value="Q1">Q1</option>
                <option value="Q2">Q2</option>
                <option value="Q3">Q3</option>
                <option value="Q4">Q4</option>
           </select>
         </div>  
                       
        <div class="col"> 
            <select id="year_input" name="year_input" class="form-select" >
                <option value="2022" selected="selected">2022</option>
                <option value="2023">2023</option>
           </select>
        </div>  

        <div class="col-sm-2">
            <div class="form-check">
            <input class="btn btn-primary" type=submit value="Filtrar">
            </div>
        </div>

    </form>
  </div>

      <br>
      <h1 class="text-center align-self-center">Reporte Unificado {{trimestre}} - {{year}}</h1>
      <br>

      {% if hayDatos  %}

      <h3 style="text-align:center">Valor General: {{kpi_total}}</h3>
      
      <div class="container">
        <div class="row row-cols-4">
          <div class="col" id="bargraph1">
            <script>
                var graphs1 = {{graphJSON_esfuerzo | safe}};
                graphs1.config = {'displaylogo': false}
                Plotly.plot('bargraph1', graphs1);
            </script>
          </div>
          <div class="col" id="bargraph2">
            <script>
                var graphs2 = {{graphJSON_satisfaccion | safe}};
                graphs2.config = {'displaylogo': false}
                Plotly.plot('bargraph2',graphs2);
            </script>
          </div>
          <div class="col" id="bargraph3">
            <script>
                var graphs3 = {{graphJSON_lealtad | safe}};
                graphs3.config = {'displaylogo': false}
                Plotly.plot('bargraph3',graphs3);
            </script>
          </div>
          <div class="col" id="bargraph4">
            <script>
                var graphs4 = {{graphJSON_valor | safe}};
                graphs4.config = {'displaylogo': false}
                Plotly.plot('bargraph4',graphs4);
            </script>
          </div>
        </div>
      </div>

      {% else %}

      <p class="text-center align-self-center fst-italic">No hay informaci√≥n</p>

      {% endif %}
    
{% endblock %}
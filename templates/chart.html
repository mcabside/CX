<!doctype html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/style.css') }}">
    <script src="{{url_for('static', filename='test.js')}}"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body >
        
  <div class="center_2">
          <form method = "get" class="row gy-2 gx-3 align-items-center">
            <div class="col-sm-3">
                  <select id="kpi" name="kpi" class="form-select" >
                    <option value="kpi_total"  > KPI Total</option>
                    <option value="kpi_esfuerzo"> KPI Esfuerzo</option>
                    <option value="kpi_lealtad"> KPI Lealtad</option>
                    <option value="kpi_satisfaccion">KPI Satisfaccion</option>
                    <option value="kpi_valor">KPI Valor</option>
                  </select>
            </div>  
            <div class="col-sm-3">   
                 <select id="trimestre_input" name="trimestre_input" class="form-select" >
                  {% for Trimestre in Trimestres %}
                  <option value="{{Trimestre}}" >Q{{ Trimestre}}</option>"
                  {% endfor %}   
                  </select>
            </div>  

            <div class="col-sm-3">   
              <select id="year_input" name="year_input" class="form-select" >
               {% for Year in Years %}
               <option value="{{Year}}" >{{ Year}}</option>"
               {% endfor %}   
               </select>
            </div>

            <div class="col-sm-3">
              <div class="form-check">
                <input class="btn btn-dark" type=submit value="Enter">
              </div>
            </div>

          </form>
             
          <canvas id="myChart" width="100" height="50"></canvas>                
    </div>

    <script>
      
        const data = {
          labels: {{ x | safe}}, //Etiquetas datos
          datasets: [{
            label:'{{ kpi_name | safe}}' , //Title
            backgroundColor: "red",
            
            data: {{ y | safe}}, //KPI's
          }]
        };
      
        const config = {
          type: 'line',
          data: data,
          options: {
            scales:{
              y:{
                beginAtZero: true
              }
            }
          }
        };

        const myChart = new Chart(
            document.getElementById('myChart'),
            config
          );

      </script>
       
</body>
